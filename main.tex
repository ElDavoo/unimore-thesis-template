% https://texblog.org/2013/02/13/latex-documentclass-options-illustrated/
\documentclass[a4paper,12pt,onecolumn,twoside,openright,notitlepage]{book}

% NOTA: La lingua principale è l'ULTIMA!
\usepackage[italian,english]{babel}

% Margini, presi dal template CRIS
\usepackage[inner=3 cm,outer=2.5 cm,top=3 cm,bottom=2.5 cm]{geometry}

% Times New Roman
\usepackage{times}

\usepackage{csquotes}
\usepackage[style=numeric]{biblatex}
\addbibresource{references.bib}

% Abilita il supporto alle immagini
\usepackage{graphicx}
%Path relative to the main .tex file 
\graphicspath{ {./images/} }

% Mette i counter della pagina con sezione e sottolineatura, imposta anche stile
\usepackage{fancyhdr}
\fancypagestyle{mainmatter}{%		
		\fancyhf{} 
		\fancyhead{}
		\fancyhead[LE,RO]{\thepage}
		\fancyhead[LO]{\footnotesize{\leftmark}}
		\fancyhead[RE]{\footnotesize{\rightmark}}
		\fancyfoot{}
		\addtolength{\headwidth}{\marginparsep}
		\addtolength{\headheight}{2.5pt}
		\renewcommand{\headrulewidth}{0.3pt}
		\renewcommand{\footrulewidth}{0.0pt}
		}
\fancypagestyle{frontmatter}{%
		\fancyhf{} 
		\fancyhead[LE]{\footnotesize{\MakeUppercase{\thepage}}}
		\fancyhead[RO]{\footnotesize{\MakeUppercase{\thepage}}}
		\fancyhead[RE,LO]{}
		\fancyfoot{}
		\addtolength{\headwidth}{\marginparsep}
		\addtolength{\headheight}{2.5pt}
		\renewcommand{\headrulewidth}{0.0pt}
		\renewcommand{\footrulewidth}{0.0pt}
		}
\pagestyle{fancy}
		\fancyhf{} 
		\fancyhead{}
		\fancyhead[LE,RO]{\thepage} 
		\fancyhead[LO]{\footnotesize{\leftmark}}
		\fancyhead[RE]{\footnotesize{\rightmark}}
		\fancyfoot{}
		\addtolength{\headwidth}{\marginparsep}
		\addtolength{\headheight}{2.5pt}
		\renewcommand{\headrulewidth}{0.3pt}
		\renewcommand{\footrulewidth}{0.0pt}

% Li toglie nelle pagine vuote
\usepackage{emptypage}

% Dà un po' di spazio in più alle parole in caso non ci entrino nella riga
\setlength{\emergencystretch}{4em}


% environment for bash code
\usepackage{listings}
\lstset{ %
  language=bash,                % the language of the code
  basicstyle=\footnotesize,           % the size of the fonts that are used for the code
  numbers=left,                   % where to put the line-numbers
  numberstyle=\footnotesize,          % the size of the fonts that are used for the line-numbers
  stepnumber=1,                   % the step between two line-numbers. If it's 1, each line 
                                  % will be numbered
  numbersep=5pt,                  % how far the line-numbers are from the code
  backgroundcolor=\color{white},      % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
%  frame=single,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=2,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  title=\lstname,                   % show the filename of files included with \lstinputlisting;
                                  % also try caption instead of title
  numberstyle=\tiny\color{gray},        % line number style
  keywordstyle=\textbf,          % keyword style
  commentstyle=\color{darkgreen},       % comment style
%  stringstyle=\color{mauve},         % string literal style
  escapeinside={\%*}{*)},            % if you want to add a comment within your code
  morekeywords={*,...,insert,-}               % if you want to add more keywords to the setù
}

% environment for python code
\lstset{
language=Python,
breaklines=true,
breakatwhitespace=true ,
backgroundcolor=\color{light-gray}
}

% Interlinea
\linespread{1.5}
% Un po' più piccola per gli elenchi numerati
\usepackage{enumitem}
\setlist[enumerate]{itemsep = -1 mm}

%Consente di usare \code al posto di \texttt 
\newcommand{\code}{\texttt}

%Glossario
\usepackage[acronym,toc]{glossaries}
\makeglossaries

%Usalo per aggiungere un capitolo al TOC senza numerarlo
\newcommand*{\nchapter}[1]{
    \chapter*{#1}
    \addcontentsline{toc}{chapter}{#1}
}

% Supporto ai line break negli URL
\usepackage{xurl}

% Rende cliccabili i link
% (Overleaf dice che questo è l'ultimo pacchetto da caricare)
% NOTA: I link sono disattivati se il documento è in draft!
\usepackage{hyperref}

\hypersetup{
	pdfpagemode=FullScreen,
	% FIXME Deduplicare questi due dati
	pdftitle={Titolo tesi},
	pdfauthor={Autore},
}

\usepackage{frontespizio}

\begin{document}

% Disattiva la numerazione
\pagenumbering{gobble}

\include{glossary}

% NOTA: In draft mode, il frontespizio NON viene generato.
\include{chapters/frontespizio}

\include{chapters/dedica}

\include{chapters/abstract_it}

\include{chapters/abstract}

\pagestyle{frontmatter}
% Resetta e imposta la numerazione a caratteri romani
\frontmatter

\tableofcontents

% Resetta e imposta la numerazione a numeri arabi
\mainmatter
\pagestyle{mainmatter}

\include{chapters/01}

\include{chapters/02}

\include{chapters/03}

\include{chapters/04}

\begin{flushleft}
\printbibliography
\end{flushleft}

\include{chapters/appendix}

\printglossary[type=\acronymtype]
\printglossary
\newpage

\include{chapters/acks}

\end{document}
